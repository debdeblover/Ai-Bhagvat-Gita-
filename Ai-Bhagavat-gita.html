<!DOCTYPE html>
<html lang="bn">  
<head>  
  <meta charset="UTF-8" />  
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>  
  <title>ржнржЧржмржж ржЧрзАрждрж╛</title>  
  <script src="https://cdn.tailwindcss.com"></script>  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>  
</head>  
<body class="bg-yellow-50 text-gray-800 p-6 font-sans">    
  <h1 class="text-3xl font-bold text-center mb-6">ржнржЧржмржж ржЧрзАрждрж╛</h1>    
  <div class="max-w-3xl mx-auto mb-6 flex flex-col sm:flex-row gap-4">  
    <input type="text" id="search" class="flex-1 border rounded px-4 py-2" placeholder="рж╢рзНрж▓рзЛржХ ржмрж╛ ржЕржирзБржмрж╛ржж рж▓рж┐ржЦрзБржи..." />  
    <select id="chapterFilter" class="border rounded px-4 py-2">  
      <option value="0">рж╕ржм ржЕржзрзНржпрж╛рзЯ</option>  
    </select>  
  </div>    
  <div id="shlokaContainer" class="space-y-4 max-w-3xl mx-auto"></div>    
  <div class="text-center mt-8">  
    <button onclick="downloadPDF()" class="bg-green-600 text-white px-6 py-2 rounded hover:bg-green-700">  
      ЁЯУД ржкрж┐ржбрж┐ржПржл ржбрж╛ржЙржирж▓рзЛржб ржХрж░рзБржи  
    </button>  
  </div>    

  <script>
    const shlokas = [
      { id: 1, chapter: 2, sanskrit: "ржХрж░рзНржоржгрзНржпрзЗржмрж╛ржзрж┐ржХрж╛рж░рж╕рзНрждрзЗ ржорж╛ ржлрж▓рзЗрж╖рзБ ржХржжрж╛ржЪржиред\nржорж╛ ржХрж░рзНржоржлрж▓рж╣рзЗрждрзБрж░рзНржнрзВрж░рзНржорж╛ рждрзЗ рж╕ржЩрзНржЧрзЛрж╕рзНрждрзНржмржХрж░рзНржоржгрж┐рее", translation: "рждрзЛржорж╛рж░ ржХрж╛ржЬ ржХрж░рж╛рж░ ржЕржзрж┐ржХрж╛рж░ ржЖржЫрзЗ, ржХрж┐ржирзНрждрзБ ржлрж▓рзЗрж░ ржЕржзрж┐ржХрж╛рж░ ржирзЗржЗред", audio: "audio/shlok1.mp3" },
      { id: 2, chapter: 18, sanskrit: "ржЕрж╣ржВ рждрзНржмрж╛ржВ рж╕рж░рзНржмржкрж╛ржкрзЗ ржнрзНржпрзЛ ржорзЛржХрзНрж╖ржпрж╝рж┐рж╖рзНржпрж╛ржорж┐ ржорж╛ рж╢рзБржЪржГрее", translation: "ржЖржорж┐ рждрзЛржорж╛ржпрж╝ рж╕ржорж╕рзНржд ржкрж╛ржк ржерзЗржХрзЗ ржорзБржХрзНрждрж┐ ржжрзЗржмрзЛред ржнржпрж╝ ржХрж░рзЛ ржирж╛ред", audio: "audio/shlok2.mp3" },
      { id: 3, chapter: 2, sanskrit: "ржпрзЛржЧрж╕рзНржержГ ржХрзБрж░рзБ ржХрж░рзНржорж╛ржгрж┐...", translation: "рж╣рзЗ ржЕрж░рзНржЬрзБржи, рж╕ржлрж▓рждрж╛ ржУ ржмрзНржпрж░рзНржерждрж╛рж░ ржкрзНрж░рждрж┐ рж╕ржоржнрж╛ржмрзЗ ржерзЗржХрзЛ...", audio: "audio/shlok3.mp3" }
    ];

    const container = document.getElementById("shlokaContainer");
    const search = document.getElementById("search");
    const chapterFilter = document.getElementById("chapterFilter");

    const renderShlokas = () => {
      const term = search.value.toLowerCase();
      const chapter = parseInt(chapterFilter.value);
      container.innerHTML = "";

      const filtered = shlokas.filter(s => 
        (chapter === 0 || s.chapter === chapter) &&
        (s.sanskrit.includes(term) || s.translation.includes(term))
      );

      filtered.forEach(shlok => {
        const card = document.createElement("div");
        card.className = "bg-white p-4 rounded shadow";
        card.innerHTML = `
          <p class="whitespace-pre-line text-lg">${shlok.sanskrit}</p>
          <p class="mt-2 italic text-gray-700">${shlok.translation}</p>
          <button onclick="new Audio('${shlok.audio}').play()" class="mt-4 px-4 py-1 bg-blue-600 text-white rounded hover:bg-blue-700">
            ЁЯФК рж╢рзНрж▓рзЛржХ рж╢рзБржирзБржи
          </button>`;
        container.appendChild(card);
      });
    };

    const downloadPDF = () => {
      const { jsPDF } = window.jspdf;
      const doc = new jsPDF();
      let y = 10;
      const term = search.value.toLowerCase();
      const chapter = parseInt(chapterFilter.value);
      const filtered = shlokas.filter(s =>
        (chapter === 0 || s.chapter === chapter) &&
        (s.sanskrit.includes(term) || s.translation.includes(term))
      );

      filtered.forEach((s, i) => {
        doc.text(`рж╢рзНрж▓рзЛржХ ${i + 1}`, 10, y);
        y += 8;
        doc.text(s.sanskrit, 10, y);
        y += 10;
        doc.text(`ржЕржирзБржмрж╛ржж: ${s.translation}`, 10, y);
        y += 20;
      });
      doc.save("Bhagavad_Gita_Bengali.pdf");
    };

    const chapters = [...new Set(shlokas.map(s => s.chapter))];
    chapters.forEach(c => {
      const opt = document.createElement("option");
      opt.value = c;
      opt.textContent = `ржЕржзрзНржпрж╛рзЯ ${c}`;
      chapterFilter.appendChild(opt);
    });

    search.addEventListener("input", renderShlokas);
    chapterFilter.addEventListener("change", renderShlokas);
    renderShlokas();
  </script>
</body>  
</html>
